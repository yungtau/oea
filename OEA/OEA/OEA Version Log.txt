
/*******************************************************
 * 
 * 创建时间：20110726
 * 说明：本文件用于记录 OEA 框架版本号及相应的变更记录。格式如下：
 * 暂时分为以下几类：
 * ★重要改动、★较大改动、★修改接口、★删除接口、添加接口、添加功能、重构、内部修改、BUG修复、示例。
 * （重构与内部修改相比，是不会造成任何功能变动的。）
 * 
*******************************************************/

2.10.560.0
    ★重要改动、添加接口
        * 实体仓库在保存新增的实体后，应该把新增的实体的整颗聚合树的 Id 设置好。
        * EntityList 添加属性 HasManyType。

2.10.559.0
    重构
        * 简化 DiffSaveService 中的代码。

2.10.558.0
    ★重要改动
        * ★ 实体列表中每一项的数据层保存不应该使用 Repository，而是应该使用直接调用实体的数据层保存。
        * 简化实体类的分布式存储代码。

2.10.557.0
    重构
        * 重命名。

2.10.556.0
    重构
        * PropertyEditors 变到更高层的 DetailObjectView 上。

2.10.555.0
    重构
        * 删除无用的 IWPFControlGenerator 接口。

2.10.554.0
    示例
        * JXC
            * 采购订单入库单查询功能。
            * 服务间的调用。
            * 选择商品时自动把数据设置为一。
            * 其它入库可用。

2.10.551.0
    重构
        * ManagedPropertyChangedEventArgs 改为结构体。
    BUG修复
        * 单机版本保存对象时，应该 Clone 出一份来保存，否则行为和 C/S 版本不一致。

2.10.549.0
    示例
        * JXC
            * 采购订单入库功能。

2.10.547.0
    添加接口
        * EntityList 同样支持实体路由事件。

2.10.546.0
    重构
        * Block 类中的 EVM 重命名为 ViewMeta。
    示例
        * JXC 采购订单可以删除、查看了。JXC 中的采购订单模块基本可用。

2.10.543.0
    内部修改
        * CustomizeUI 在确定时需要判断是否当前处于弹出窗口中。

2.10.542.0
    ★修改接口
        * NotAllowEdit 更名为 DisableEditing，否则和属性名重复了，不能智能感知。

2.10.541.0
    ★删除接口
        * 删除 IWorkspaceWindow 接口，简化自定义界面的实现。

2.10.540.0
    内部修改、★修改接口
        * Service 不需要返回值了，直接使用反射修改当前对象的值。
        * 为了更方便调试，ClientCommand 在调试状态下不应该截取异常。
    添加接口
        * 添加 UseWPFCommands(object[]) 方法，更方便设置。
    添加接口
        * ViewDataLoader 添加 ReloadDataAsync(callback) 方法。
    BUG修复
        * LookupSelectAddCommand 中弹出的框应该是只读的。
        * Validation 中属性的规则检查不需要检查整个类型的规则。
        * Validation.CommonRules 中，类型转换应该使用更安全的方式。
    示例
        * JXC 采购订单可以添加了。

2.10.534.0
    BUG修复
        * PopupAddCommand 中，在确定时不应该弹出是否保存的弹出提示。
        * MapAllProperties 时，不能把 TreeCode、TreePId 都映射。
    示例
        * JXC 创建单据类模板、命令。

2.10.531.0
    ★修改接口
        * App.Current.Windows、App.Current.MessageBox 变为静态属性，方便调用。

2.10.530.0
    添加功能
        * 添加、编辑窗口在数据改变后再关闭窗口，需要提示用户是否保存。
    BUG修复
        * ViewDialog 中 Cancel 按钮如果添加 IsCancel="True" 的话，窗体的 Closing 事件会发生两次。暂时不知道原因。

2.10.529.0
    重构、★修改接口
        * CustomModule 重命名为 CustomTemplate，提供非模块的界面设计。

2.10.528.0
    BUG修复
        * AutoGrid 在测量过程中，不能直接使用 InvalidateMeasure 方法。
    示例
        * JXC ConditionQueryModule 默认发起一次查询。

2.10.526.0
    内部修改
        * DbMigration 中，如果发现某个迁移类已经不存在了，无法还原，则直接返回 null，跳过该项。
    示例
        * 为 JXC 添加 用户 的初始数据。

2.10.524.0
    添加接口
        * 提供 EntityMeta 的扩展配置方法 MapAllPropertiesToTable、MapAllPropertiesToTableExcept。
    BUG修复
        * 抽象类不可以映射数据库。
    内部修改
        * RBAC Org 布局。
        * RBAC 日志查询布局。
    示例
        * 为 JXC 添加实体类。

2.10.519.0
    BUG修复
        * 修复：“SaveListCommand 列表删除最后一行时，不能保存”。
        * 修复：“树型实体被修改默认排序规则”。

2.10.517.0
    添加接口
        * EntityRepository 添加 CountAll 方法。
        * 添加 CountAllEntityService 服务类。
    示例
        * 随机编码修改为自动编码。

2.10.516.0
    重构、★修改接口
        * 简化 TraditionalLayout 编写的 API。
    示例
        * JXC-采购订单-布局。

2.10.515.0
    添加接口、添加功能
        * EntityViewMeta 支持 DetailAsHorizontal 属性。表单支持横向生成。
    示例
        * JXC-采购订单-条件查询放在上方。

2.10.514.0
    添加接口
        * EntityViewMeta 支持 OrderProperties 方法。
    示例
        * JXC 中采购订单导航面板。

2.10.513.0
    内部修改
        * 异常提示更清晰。

2.10.512.0
    ★删除接口、★修改接口
        * NavigationQueryEntityAttribute、ConditionQueryEntityAttribute 合并为 QueryEntityAttribute。
        * 添加 OEA_Entity_Criteria 代码模板。
    示例
        * 完善 JXC.Product 示例。
            * 添加 PurchaseOrder 类及其对应的条件查询面板。

2.10.511.0
    添加接口
        * 添加一些方便客户端使用的接口。
    示例
        * 完善 JXC.Product 示例。

2.10.510.0
    BUG修复
        * PopupAddCommand 中添加的新对象的树型父 Id 为空。

2.10.509.0
    ★修改接口
        * 用于配置 EntityMeta 的扩展方法 HasLabel、HasTitle 分别修改为更易读的 DomainName、HasDelegate。

2.10.508.0
    BUG修复
        * PopupAddCommand、EditDetailCommand 的焦点问题。

2.10.507.0
    BUG修复
        * PopupAddCommand 中添加的新对象的树型编码为空。

2.10.506.0
    ★较大改动、★删除接口、★修改接口
        * 使用一行配置的方式来使得 TreeEntity 的实现更加简单。

2.10.505.0
    BUG修复
        * StringPropertyEditor 中使用的 Binding 不能设置 TargetNullValue 属性。

2.10.504.0
    添加功能
        * 界面设置功能自动重启当前模块。

2.10.503.0
    内部修改
        * AggtBlockName 限定为只在 Web 环境中使用。

2.10.502.0
    内部修改
        * 登录窗口确定、取消按钮大小调整为一样。
        * TiledListReferenceEditor 生成的 ListView 应该是只读的。

2.10.501.0
    ★较大改动、添加接口
        * 添加 BlocksTemplate、CustomModule、CallbackModule 类。
    重构
        * Org 模块使用 OrgModule 来实现。
    示例
        * 为 JXC.Product 添加 ProductModule。

2.10.500.0
    ★删除接口
        * 删除 WPFModuleBase 类。

2.10.499.0
    添加接口
        * 在 ObjectView 类型上添加 Commands 集合。
    重构
        * 重构部分 CommandAutoUI 的内容。

2.10.498.0
    重构
        * 删除不必要的 IPropertyMetaProvider 接口。

2.10.497.0
    BUG修复
        * 非本库的引用属性不需要生成外键。
    示例
        * 商品添加操作员

2.10.496.0
    添加接口、添加功能
        * ShowInDetail 支持百分比宽度定义。

2.10.495.0
    内部修改
        * 使用一个 StackPanel 弹出 DetailPanel，保证详细面板不会自动变大。

2.10.494.0
    BUG修复
        * AutoGrid 的索引算法有问题。

2.10.492.0
    添加接口、添加功能
        * 支持 DetailPanel 的一些更详细的配置：DetailColumnsSpan、DetailWidth、DetailHeight、DetailLabelWidth。

2.10.491.0
    重构
        * 去除 IPropertyMetadata 中的 IsChild 属性。

2.10.490.0
    添加功能
        * 添加 TiledListReferencEditor。

2.10.489.0
    ★修改接口、添加接口
        * GetLazyChildren 变为 GetLazyList。
        * 支持 LazyProperty。

2.10.488.0
    重构
        * 去除不需要的引用。

2.10.487.0
    BUG修复
        * 修改“定义的聚合块可能会被更改，不能直接把它们存储起来。”的问题。

2.10.486.0
    内部修改
        * NavigationQueryObjectView 中的 Children 模式不要了，外部可以直接使用 Entity 的 RoutedEvent 来间接实现。
    重构
        * Navigate 改为名词的 Navigation。
        * CommonCommand 中的添加按钮从 AddCommand 变为一般的 PopupAddCommand。

2.10.485.0
    ★删除接口
        * 删除 GetListImplicity 接口。
    重构
        * 修改类名 NavigateQueryType 为 NavigationQueryType。
        * RefreshCommand 简单化。
        * CommonCommand 中的添加按钮从 PopupAddCommand 变为一般的 AddCommand。
    BUG修复
        * CodeBlocksReader 中导航面板应该使用 Navigation 的环绕类型。
    其它
        * 添加、完善 JXC 示例。

2.10.484.0
    添加功能
        * 添加 PopupSearchListPropertyEditor 属性编辑器。
        * 完善 PopupSearchListPropertyEditor 属性编辑器。

2.10.482.0
    添加功能、★修改接口
        * 添加 EditorHost 控件。
        * DetailPanel 支持自定义扩展。
        * 在 EntityViewMeta 中添加 DetailPanelType、DetailLabelWidth 两个属性。
        * 添加示例：Book 类使用自定义 Detail 界面。

2.10.481.0
    重构
        * MetaExtension 中的扩展方法改为实例方法。

2.10.480.0
    BUG修复
        * UserLoginLog 没有记录当前时间。
        * 日志模块按钮整理

2.10.479.0
    内部修改
        * MTTG 在不是 CheckingRow 的模式下，才显示选择状态。否则，只显示 CheckBox 状态就行了。

2.10.478.0
    ★修改接口
        * ChildrenProperty 可以不使用 AsociationAtribute 进行标记。
        * ChildrenProperty 的注册使用一个单独的 RegisterChildren 方法。

2.10.477.0
    ★修改接口
        * ShowInLookup 改为 ShowInDropDown

2.10.476.0
    BUG修复
        * TitlePath 中没有对 TitleProperty 的可空性进行检测。

2.10.475.0
    添加功能
        * SaveList 需要检测验证规则。
        * 默认为非空引用实体属性添加不可空验证规则。

2.10.472.0
    添加功能
        * Web 项目可直接作为 C/S 程序的服务端。
        * ClientEntityConverter 作为服务端，对 Web 及 WPF 的处理应该是一样的，否则 Web 的项目无法直接为 WPFClient 提供服务。

2.10.470.0
    内部修改
        * OEA.Reflection 中的内容移动到 Common 中。
        * 删除 CslaIdentity、CslaPrincipal 两个类。

2.10.467.0
    内部修改
        * Entity 与 CslaEntity 合并为一个类。

2.10.466.0
    ★较大改动、★修改接口、重构
        * DataPortal_Fetch 替换为 QueryBy 
        * 大量修改 SimpleCsla 程序集，准备删除该程序集
        * 删除 SimpleCsla 程序集

2.9.460.0
    重构
        * 删除 ClearLookupPropertyValueCommand，逻辑直接写在 Button 中。

2.9.459.0
    内部修改
        * 异常提示。

2.9.458.0
    BUG修改
        * 解决 Delegate 出错的问题。

2.9.457.0
    BUG修改
        * 解决 部门插入子报错 的问题。

2.9.456.0
    ★较大改动、添加功能
        * 添加实体验证功能接口。
        * 添加实体验证功能示例。

2.9.455.0
    ★删除接口、重构
        * 规划实体构造相关方法
        * 删除 RF.NewEntity

2.9.454.0
    BUG修改
        * 聚合 SQL 可以正常使用。

2.9.453.0
    ★修改接口
        * 数据层直接把实体加载出来，而不再浪费一次多余的实体类加载。
        * 同时修改了一些 Entity、EntityRepository 的接口，使得接口更易用。

2.9.452.0
    ★修改接口
        * 修改 ViewDataLoader 的接口，不再支持同步操作，只支持异步操作。

2.9.451.0
    ★删除接口
        * 删除勾选视图相应的接口 SelectionManager

2.9.0.450
    ★较大改动
        * 修复 RBAC 项目，使其可以正常运行。

2.9.0.430
    ★较大改动
        * 修复 WPF 项目，使其可以运行。

2.9.0.379
    内部修改
        * Csla Update 时不再 Clone 对象。

2.9.0.379
    内部修改
        * DbMigration 的数据库中应该存储具体的数据库名称，而不是数据库配置。

2.9.0.378
    ★较大改动、重构
        * RBAC 以及 Caching 数据层类库移植到插件 DLL 中。
        * OEA 框架本身不带任何数据库。

2.9.0.377
    添加接口
        * 添加 CommonModel.Modules 属性用于定义模块。

2.9.0.376
    重构
        * 添加 WebAppStartupModule.

2.9.0.376
    BUG修改
        * ViewConfigurationModel 的文件路径计算出错。

2.9.0.375
    内部修改
        * ConnectionStringFinder 查找连接字符串时，根据用户的 LocalSqlServer 来查找。

2.9.0.374
    ★较大改动、添加功能
        继 TreeEntityList 重构后，B/S 支持树型结点的随意拖动。

2.9.0.373
    ★较大改动、添加功能
        继 TreeEntityList 重构后，B/S 支持树型结点的随意拖动。（尚遗留问题：删除结点时的父子关系有问题。）

2.9.0.372
    ★删除接口
        去除 Entity 上标记的 Id。

2.9.0.371
    ★较大改动、重构、添加功能
        TreeEntity,TreeEntityList 重构（具体内容见分析文档）
        Entity 支持直接使用 new 创建。
        其它
            DataPortal_Fetch 支持以 int 为参数。
            删除了 Entity、EntityList 的 IsChild 属性。

2.9.0.370
    ★较大改动、重构、添加功能
        主键由 Guid 变为 Int
            * DbMigration 支持主键的 IDentity
            * 实体框架

2.9.0.369
    ★较大改动、重构、添加功能
        MetaModel 重构
            * 添加 AggtBlocks 及其相关的类用于保存聚合对象的信息。
            * 完整支持 AggtBlocks 的定义、显示。

2.9.0.368
    添加接口
        支持 DefaultOrderBy。

2.9.0.367
    重构
        优化 HTTP 聚合保存的请求对象中无用的空列表。

2.9.0.366
    添加接口
        Oea.Window.show 方法中的 buttons 格式修改为 '按钮1,按钮2'.

2.9.0.365
    添加接口
        BlockConfig 支持 GroupBy 以及 PageSize 的配置。

2.9.0.364
    添加接口
        View.js 支持 getCmdControl 方法。

2.9.0.363
    BUG修改
        UI配置没有变化时，Xml 文件应该删除。

2.9.0.362
    添加功能
        命令按钮也能使用 UIConfig 了。

2.9.0.361
    重构
        EntityProperty 方法重命名为 Property

2.9.0.360
    ★较大改动、重构、添加功能
        MetaModel 重构
            * 界面配置已经基本完成，整个流程已经可以跑全。（流程见设计文档）
            * ViewConfigurationModel 使用自定义的聚合保存按钮。
            * ListView 支持聚合保存
    BUG修改
        * LabelToEnum：如果在 Label 中没有找到，那这个 label 其实就是枚举本身的名称。

2.9.0.359
    ★较大改动、重构、添加功能
        MetaModel 重构
            * 把 Web.EntityViewMeta 修改为自已懒加载关系。
            * EntityViewMeta 重构后，可以运行了。

2.9.0.358
    重构
        把 DbTable 移动到 OEA.Library 中去。

2.9.0.357
    重构
        把 OEA 和 OEA.MetaModel 合并为一个项目。
        把 OEA.ManagedProperty 重命名为 ManagedProperty。

2.9.0.356
    添加功能
        B/S 支持列表分组。

2.9.0.355
    添加功能
        B/S 客户端界面客户化功能已经可以运行。

2.9.0.354
    添加功能
        客户端开始支持使用“客户化按钮”来定制界面。

2.9.0.353
    内部修改
        BelongsToPrimaryAggt 属性变到 EntityViewMeta 上。防止创建重复的 EntityMeta。

2.9.0.352
    重构
        重命名：EntityViews -> DefaultViews，FindViewMeta -> Get

2.9.0.351
    添加功能
        支持使用 ViewConfiguration 类来定义多个视图，并预留以 xml 文件进行客户化的接口。

2.9.0.350
    ★较大改动、添加功能
        开始支持 B/S 架构。
            OEA.js
            OEACommands.js
            OEAEntity.js
            MetaService & MetaPortal
            DataService & DataPortal
            ServiceInvoker